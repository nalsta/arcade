<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<title>Arcade GO</title>

<style>
body{
  margin:0;
  background:#111;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  font-family:Arial, sans-serif;
}

.arcade{
  width:720px;
  height:780px;
  background:linear-gradient(145deg,#222,#000);
  border-radius:40px;
  box-shadow:0 0 60px #00ffff;
  padding:30px;
}

.screen{
  background:black;
  border-radius:20px;
  padding:20px;
  box-shadow:inset 0 0 40px #00ffff;
  text-align:center;
  color:white;
}

h1{
  font-size:48px;
  margin:10px;
  text-shadow:0 0 20px #00ffff;
}

#menu button{
  margin:6px;
  padding:12px 20px;
  border:none;
  border-radius:12px;
  background:linear-gradient(45deg,#00ffff,#ff00ff);
  color:black;
  font-weight:bold;
  cursor:pointer;
  transition:0.2s;
  box-shadow:0 0 15px #00ffff;
}

#menu button:hover{
  transform:scale(1.1);
  box-shadow:0 0 25px #ff00ff;
}

canvas{
  margin-top:20px;
  border-radius:20px;
  box-shadow:0 0 30px #00ffff;
}
</style>
</head>

<body>

<div class="arcade">
<div class="screen">

<h1>ARCADE GO</h1>

<div id="menu">
<button onclick="launch('snake')">üêç Snake</button>
<button onclick="launch('pong')">üèì Pong</button>
<button onclick="launch('flappy')">üê¶ Flappy</button>
<button onclick="launch('breakout')">üß± Breakout</button>
<button onclick="launch('pacman')">üü° Pac-Man</button>
<button onclick="toggleMusic()">üéµ Muziek aan/uit</button>
</div>

<canvas id="game" width="500" height="400"></canvas>

</div>
</div>

<script>
let canvas = document.getElementById("game");
let ctx = canvas.getContext("2d");
let loop;
let score = 0;

/* ---------------- MUZIEK ---------------- */

let music = new Audio("https://cdn.pixabay.com/download/audio/2022/03/15/audio_6d5c1b6a8f.mp3?filename=arcade-music-loop-110624.mp3");
music.loop = true;
music.volume = 0.4;

function toggleMusic(){
  if(music.paused){
    music.play();
  }else{
    music.pause();
  }
}

/* ---------------- BASIS ---------------- */

function clearGame(){
  clearInterval(loop);
  document.onkeydown = null;
  canvas.onclick = null;
  canvas.ontouchstart = null;
  canvas.ontouchmove = null;
}

function launch(game){
  clearGame();
  ctx.clearRect(0,0,500,400);

  if(game==="snake") snakeGame();
  if(game==="pong") pongGame();
  if(game==="flappy") flappyGame();
  if(game==="breakout") breakoutGame();
  if(game==="pacman") pacmanGame();
}

function gameOver(name){
  clearGame();
  ctx.fillStyle="rgba(0,0,0,0.7)";
  ctx.fillRect(0,0,500,400);
  ctx.fillStyle="white";
  ctx.font="30px Arial";
  ctx.fillText("GAME OVER",150,180);
  ctx.fillText(name+" | Score: "+score,130,220);
}

/* ---------------- SNAKE ---------------- */

function snakeGame(){
  let snake=[[200,200]];
  let dir=[20,0];
  let food=[100,100];
  score=0;

  document.onkeydown=e=>{
    if(e.key==="ArrowUp")dir=[0,-20];
    if(e.key==="ArrowDown")dir=[0,20];
    if(e.key==="ArrowLeft")dir=[-20,0];
    if(e.key==="ArrowRight")dir=[20,0];
  };

  loop=setInterval(()=>{
    ctx.clearRect(0,0,500,400);

    let head=[snake[0][0]+dir[0],snake[0][1]+dir[1]];

    if(head[0]<0||head[1]<0||head[0]>=500||head[1]>=400){
      gameOver("Snake");
      return;
    }

    snake.unshift(head);

    if(head[0]==food[0]&&head[1]==food[1]){
      score++;
      food=[Math.floor(Math.random()*25)*20,Math.floor(Math.random()*20)*20];
    }else{
      snake.pop();
    }

    ctx.fillStyle="lime";
    snake.forEach(s=>ctx.fillRect(s[0],s[1],20,20));

    ctx.fillStyle="red";
    ctx.fillRect(food[0],food[1],20,20);

    ctx.fillStyle="white";
    ctx.fillText("Score: "+score,10,20);
  },120);
}

/* ---------------- PONG ---------------- */

function pongGame(){

  let p1=160;
  let p2=160;
  let ball={x:250,y:200,vx:5,vy:4};
  let keys={};

  document.onkeydown=e=>keys[e.key]=true;
  document.onkeyup=e=>keys[e.key]=false;

  canvas.ontouchmove=e=>{
    let rect=canvas.getBoundingClientRect();
    let x=e.touches[0].clientX-rect.left;
    let y=e.touches[0].clientY-rect.top;

    if(x<250) p1=y-40;
    else p2=y-40;
  };

  loop=setInterval(()=>{
    ctx.clearRect(0,0,500,400);

    if(keys["w"])p1-=6;
    if(keys["s"])p1+=6;
    if(keys["ArrowUp"])p2-=6;
    if(keys["ArrowDown"])p2+=6;

    p1=Math.max(0,Math.min(320,p1));
    p2=Math.max(0,Math.min(320,p2));

    ball.x+=ball.vx;
    ball.y+=ball.vy;

    if(ball.y<0||ball.y>400)ball.vy*=-1;

    if(ball.x<20&&ball.y>p1&&ball.y<p1+80)ball.vx*=-1;
    if(ball.x>480&&ball.y>p2&&ball.y<p2+80)ball.vx*=-1;

    if(ball.x<0||ball.x>500){
      ball.x=250;
      ball.y=200;
    }

    ctx.fillStyle="white";
    ctx.fillRect(10,p1,10,80);
    ctx.fillRect(480,p2,10,80);

    ctx.beginPath();
    ctx.arc(ball.x,ball.y,8,0,Math.PI*2);
    ctx.fill();

  },20);
}

/* ---------------- FLAPPY ---------------- */

function flappyGame(){

  score=0;
  let started=false;
  let bird={x:80,y:200,v:0};
  let pipes=[];
  let gravity=0.5;
  let jump=-8;
  let gap=120;

  function flap(){
    bird.v=jump;
    started=true;
  }

  document.onkeydown=e=>{
    if(e.code==="Space") flap();
  };

  canvas.onclick=flap;
  canvas.ontouchstart=e=>{
    e.preventDefault();
    flap();
  };

  loop=setInterval(()=>{
    ctx.fillStyle="#70c5ce";
    ctx.fillRect(0,0,500,400);

    if(!started){
      ctx.fillStyle="white";
      ctx.fillText("SPATIE OF TIK",170,200);
      return;
    }

    bird.v+=gravity;
    bird.y+=bird.v;

    ctx.fillStyle="yellow";
    ctx.beginPath();
    ctx.arc(bird.x,bird.y,12,0,Math.PI*2);
    ctx.fill();

    if(pipes.length==0||pipes[pipes.length-1].x<300){
      let top=Math.random()*200+40;
      pipes.push({x:500,top:top,passed:false});
    }

    pipes.forEach(p=>{
      p.x-=3;

      ctx.fillStyle="green";
      ctx.fillRect(p.x,0,50,p.top);
      ctx.fillRect(p.x,p.top+gap,50,400);

      if(!p.passed&&p.x<bird.x){
        p.passed=true;
        score++;
      }

      if(
        bird.x+12>p.x&&bird.x-12<p.x+50&&
        (bird.y-12<p.top||bird.y+12>p.top+gap)
      ){
        gameOver("Flappy Bird");
      }
    });

    if(bird.y<0||bird.y>400){
      gameOver("Flappy Bird");
    }

    ctx.fillStyle="white";
    ctx.fillText("Score: "+score,10,20);
  },30);
}

/* ---------------- BREAKOUT ---------------- */

function breakoutGame(){

  let paddle=200;
  let ball={x:250,y:300,vx:4,vy:-4};
  let bricks=[];
  score=0;

  for(let r=0;r<4;r++){
    for(let c=0;c<8;c++){
      bricks.push({x:60*c+30,y:30*r+30,alive:true});
    }
  }

  document.onkeydown=e=>{
    if(e.key==="ArrowLeft")paddle-=20;
    if(e.key==="ArrowRight")paddle+=20;
  };

  canvas.ontouchmove=e=>{
    let rect=canvas.getBoundingClientRect();
    paddle=e.touches[0].clientX-rect.left-40;
  };

  loop=setInterval(()=>{
    ctx.clearRect(0,0,500,400);

    paddle=Math.max(0,Math.min(420,paddle));

    ball.x+=ball.vx;
    ball.y+=ball.vy;

    if(ball.x<0||ball.x>500)ball.vx*=-1;
    if(ball.y<0)ball.vy*=-1;

    if(ball.y>360&&ball.x>paddle&&ball.x<paddle+80){
      ball.vy*=-1;
    }

    if(ball.y>400){
      gameOver("Breakout");
    }

    bricks.forEach(b=>{
      if(b.alive){
        ctx.fillStyle="orange";
        ctx.fillRect(b.x,b.y,50,20);

        if(ball.x>b.x&&ball.x<b.x+50&&
           ball.y>b.y&&ball.y<b.y+20){
          b.alive=false;
          ball.vy*=-1;
          score++;
        }
      }
    });

    ctx.fillStyle="white";
    ctx.fillRect(paddle,380,80,10);

    ctx.beginPath();
    ctx.arc(ball.x,ball.y,8,0,Math.PI*2);
    ctx.fill();

  },20);
}

/* ---------------- PACMAN ---------------- */

function pacmanGame(){

  const tile=20;
  let map=[
    "###############",
    "#.............#",
    "#.............#",
    "#.............#",
    "#.............#",
    "#.............#",
    "#.............#",
    "#.............#",
    "#.............#",
    "#.............#",
    "###############"
  ];

  let pac={x:1,y:1,dx:0,dy:0};

  document.onkeydown=e=>{
    if(e.key==="ArrowUp"){pac.dx=0;pac.dy=-1;}
    if(e.key==="ArrowDown"){pac.dx=0;pac.dy=1;}
    if(e.key==="ArrowLeft"){pac.dx=-1;pac.dy=0;}
    if(e.key==="ArrowRight"){pac.dx=1;pac.dy=0;}
  };

  loop=setInterval(()=>{
    ctx.fillStyle="black";
    ctx.fillRect(0,0,500,400);

    for(let y=0;y<map.length;y++){
      for(let x=0;x<map[y].length;x++){
        if(map[y][x]==="#"){
          ctx.fillStyle="blue";
          ctx.fillRect(x*tile,y*tile,tile,tile);
        }
        if(map[y][x]==="."){
          ctx.fillStyle="white";
          ctx.fillRect(x*tile+8,y*tile+8,4,4);
        }
      }
    }

    let nx=pac.x+pac.dx;
    let ny=pac.y+pac.dy;

    if(map[ny][nx]!=="#"){
      pac.x=nx;
      pac.y=ny;
    }

    ctx.fillStyle="yellow";
    ctx.beginPath();
    ctx.arc(pac.x*tile+10,pac.y*tile+10,9,0.25*Math.PI,1.75*Math.PI);
    ctx.lineTo(pac.x*tile+10,pac.y*tile+10);
    ctx.fill();

  },150);
}
</script>

</body>
</html>
