<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<title>Arcade GO!</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  text-align:center;
  background: linear-gradient(180deg,#1e3c72,#2a5298);
  color:white;
}

h1{
  margin:20px;
  font-size:48px;
}

#menu button{
  font-size:18px;
  padding:10px 20px;
  margin:6px;
  border:none;
  border-radius:8px;
  cursor:pointer;
}

#menu button:hover{
  background:#ffd700;
}

canvas{
  display:block;
  margin:20px auto;
  background:black;
  border-radius:12px;
  box-shadow:0 0 20px rgba(0,0,0,0.6);
}
</style>
</head>

<body>

<h1>üéÆ Arcade GO!</h1>

<div id="menu">
  <button onclick="launch('snake')">üêç Snake</button>
  <button onclick="launch('pong')">üèì Pong</button>
  <button onclick="launch('flappy')">üê¶ Flappy Bird</button>
  <button onclick="launch('pacman')">üü° Pac-Man</button>
  <button onclick="toggleSound()">üîä Geluid aan / uit</button>
</div>

<canvas id="game" width="500" height="400"></canvas>

<script>
let canvas = document.getElementById("game");
let ctx = canvas.getContext("2d");
let loop = null;
let score = 0;
let soundOn = true;
let currentGame = "";

function clearGame(){
  clearInterval(loop);
  loop = null;
  document.onkeydown = null;
  canvas.onclick = null;
  canvas.ontouchstart = null;
  canvas.onmousemove = null;
}

function toggleSound(){
  soundOn = !soundOn;
}

function beep(freq,time){
  if(!soundOn) return;
  let a = new (window.AudioContext||window.webkitAudioContext)();
  let o = a.createOscillator();
  o.frequency.value = freq;
  o.connect(a.destination);
  o.start();
  setTimeout(()=>o.stop(),time);
}

function launch(game){
  clearGame();
  ctx.clearRect(0,0,500,400);
  currentGame = game;

  if(game==="snake") snakeGame();
  if(game==="pong") pongGame();
  if(game==="flappy") flappyGame();
  if(game==="pacman") pacmanGame();
}

function gameOver(name){
  clearGame();
  ctx.fillStyle="rgba(0,0,0,0.7)";
  ctx.fillRect(0,0,500,400);
  ctx.fillStyle="white";
  ctx.font="32px Arial";
  ctx.fillText("GAME OVER",150,180);
  ctx.font="18px Arial";
  ctx.fillText(name+" | Score: "+score,160,220);
}

/* ---------------- SNAKE ---------------- */

function snakeGame(){
  let snake=[[200,200]];
  let dir=[20,0];
  let food=[100,100];
  score=0;

  document.onkeydown = function(e){
    if(e.key==="ArrowUp")dir=[0,-20];
    if(e.key==="ArrowDown")dir=[0,20];
    if(e.key==="ArrowLeft")dir=[-20,0];
    if(e.key==="ArrowRight")dir=[20,0];
  };

  loop=setInterval(()=>{
    ctx.clearRect(0,0,500,400);

    let head=[snake[0][0]+dir[0],snake[0][1]+dir[1]];

    if(head[0]<0||head[1]<0||head[0]>=500||head[1]>=400){
      gameOver("Snake");
      return;
    }

    snake.unshift(head);

    if(head[0]==food[0]&&head[1]==food[1]){
      score++;
      food=[Math.floor(Math.random()*25)*20,Math.floor(Math.random()*20)*20];
      beep(600,80);
    }else{
      snake.pop();
    }

    ctx.fillStyle="lime";
    snake.forEach(s=>ctx.fillRect(s[0],s[1],20,20));

    ctx.fillStyle="red";
    ctx.fillRect(food[0],food[1],20,20);

    ctx.fillStyle="white";
    ctx.fillText("Score: "+score,10,20);
  },120);
}

/* ---------------- PONG ---------------- */

function pongGame(){
  let p1=160;
  let p2=160;
  let ball=[250,200,4,3];
  score=0;

  canvas.onmousemove = function(e){
    let rect = canvas.getBoundingClientRect();
    p1 = e.clientY - rect.top - 40;
  };

  loop=setInterval(()=>{
    ctx.clearRect(0,0,500,400);

    ball[0]+=ball[2];
    ball[1]+=ball[3];

    if(ball[1]<0||ball[1]>400) ball[3]*=-1;

    if(ball[0]<20 && ball[1]>p1 && ball[1]<p1+80){
      ball[2]*=-1;
      beep(700,60);
    }

    if(ball[0]>480 && ball[1]>p2 && ball[1]<p2+80){
      ball[2]*=-1;
      score++;
      beep(700,60);
    }

    if(ball[0]<0){
      gameOver("Pong");
      return;
    }

    p2 += (ball[1]-p2-40)*0.08;

    ctx.fillStyle="white";
    ctx.fillRect(10,p1,10,80);
    ctx.fillRect(480,p2,10,80);

    ctx.beginPath();
    ctx.arc(ball[0],ball[1],8,0,Math.PI*2);
    ctx.fill();

    ctx.fillText("Score: "+score,10,20);
  },20);
}

/* ---------------- FLAPPY ---------------- */

function flappyGame(){

  score=0;
  let started=false;

  let bird={x:80,y:200,v:0};
  let pipes=[];
  let gravity=0.5;
  let jump=-8;
  let gap=120;

  function flap(){
    bird.v=jump;
    started=true;
    beep(800,60);
  }

  document.onkeydown=function(e){
    if(e.code==="Space") flap();
  };

  canvas.onclick=flap;
  canvas.ontouchstart=function(e){
    e.preventDefault();
    flap();
  };

  loop=setInterval(()=>{
    ctx.fillStyle="#70c5ce";
    ctx.fillRect(0,0,500,400);

    if(!started){
      ctx.fillStyle="white";
      ctx.font="28px Arial";
      ctx.fillText("SPATIE OF TIK",170,200);
      return;
    }

    bird.v+=gravity;
    bird.y+=bird.v;

    ctx.fillStyle="yellow";
    ctx.beginPath();
    ctx.arc(bird.x,bird.y,12,0,Math.PI*2);
    ctx.fill();

    if(pipes.length==0||pipes[pipes.length-1].x<300){
      let top=Math.random()*200+40;
      pipes.push({x:500,top:top,passed:false});
    }

    pipes.forEach(p=>{
      p.x-=3;

      ctx.fillStyle="green";
      ctx.fillRect(p.x,0,50,p.top);
      ctx.fillRect(p.x,p.top+gap,50,400);

      if(!p.passed&&p.x<bird.x){
        p.passed=true;
        score++;
      }

      if(
        bird.x+12>p.x&&bird.x-12<p.x+50&&
        (bird.y-12<p.top||bird.y+12>p.top+gap)
      ){
        gameOver("Flappy Bird");
      }
    });

    if(bird.y<0||bird.y>400){
      gameOver("Flappy Bird");
    }

    ctx.fillStyle="white";
    ctx.fillText("Score: "+score,10,20);
  },30);
}

/* ---------------- PACMAN ---------------- */

function pacmanGame(){
  score=0;

  const tile=20;
  let map=[
    "###############",
    "#.............#",
    "#.............#",
    "#.............#",
    "#.............#",
    "#.............#",
    "#.............#",
    "#.............#",
    "#.............#",
    "#.............#",
    "###############"
  ];

  let pac={x:1,y:1,dx:0,dy:0};

  document.onkeydown=function(e){
    if(e.key==="ArrowUp"){pac.dx=0;pac.dy=-1;}
    if(e.key==="ArrowDown"){pac.dx=0;pac.dy=1;}
    if(e.key==="ArrowLeft"){pac.dx=-1;pac.dy=0;}
    if(e.key==="ArrowRight"){pac.dx=1;pac.dy=0;}
  };

  loop=setInterval(()=>{
    ctx.fillStyle="black";
    ctx.fillRect(0,0,500,400);

    for(let y=0;y<map.length;y++){
      for(let x=0;x<map[y].length;x++){
        if(map[y][x]==="#"){
          ctx.fillStyle="blue";
          ctx.fillRect(x*tile,y*tile,tile,tile);
        }
        if(map[y][x]==="."){
          ctx.fillStyle="white";
          ctx.fillRect(x*tile+8,y*tile+8,4,4);
        }
      }
    }

    let nx=pac.x+pac.dx;
    let ny=pac.y+pac.dy;

    if(map[ny][nx]!=="#"){
      pac.x=nx;
      pac.y=ny;
    }

    ctx.fillStyle="yellow";
    ctx.beginPath();
    ctx.arc(pac.x*tile+10,pac.y*tile+10,9,0.25*Math.PI,1.75*Math.PI);
    ctx.lineTo(pac.x*tile+10,pac.y*tile+10);
    ctx.fill();

    ctx.fillStyle="white";
    ctx.fillText("Score: "+score,10,20);
  },150);
}
</script>

</body>
</html>
